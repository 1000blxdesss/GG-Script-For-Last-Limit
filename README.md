# GG-Script-For-Last-Limit
Скачать: https://github.com/1000blxdesss/GG-Script-For-Last-Limit/releases/download/v1.0.5/Lua.apk

Кусок плавающего чит меню:
<img width="422" height="711" alt="image" src="https://github.com/user-attachments/assets/03c6b001-0581-48e0-9ca7-26b00f02093f" />

Старое меню: https://github.com/1000blxdesss/GG-Script-For-Last-Limit/releases/download/Last_Limitv101/Lua.apk

Примеры скриптов брать в папке (example lua/Lua utils)

Этот проект построен на основе luaj: https://github.com/luaj/luaj
Любые ошибки/выводы скрипта перенаправлены на игровой поток

API:

1) sleep  
   • Приостанавливает выполнение (текущего) потока на указанное число миллисекунд.  
   • Пример:  
     ```sleep(500)```  

2) findClass  
   • Ищет класс по имени (полное имя класса с package) и пытается получить его экземпляр (поддерживает конструкторы классов,просто укажите это в параметрах).
   • Пример:
   ```findClass("Something",123,123,123)```  
   • Принимает: имя класса в виде строки, например.  
   • Возвращает экземпляр найденного или созданного объекта.  
   • Пример:  
     ```findClass("Base.Com")```

4) invoke  
   • Вызывает метод объекта.  
   • Принимает:  
     – Первый аргумент – Java-объект;  
     – Второй аргумент – имя метода (строка);  
     – Остальные аргументы – параметры для метода (если они есть).  
   • Возвращает результат вызова метода в виде Lua-значения (число, булево или строка), либо Lua nil при ошибке.  
   • Пример:  
     ```
     obj = findClass("Base.Com")  
     invoke(obj, "tryMoveToNextMap", 3)
     ```
5) getField  
   • Получает значение указанного поля объекта.  
   • Принимает:  
     – Первый аргумент – объект Java;  
     – Второй аргумент – имя поля (строка);  
     – Третий аргумент (опционально) – индекс, если поле является массивом.  
   • Возвращает значение поля.  
   • Пример:
   ```
     local com = findClass("Base.Com")  
     local Strategist = findClass("Moduls.Strategist")  
     local ensMap = getField(com, "EnsMap") -- либо ensMap = getField(com, "EnsMap", 1)
   ```

6) setField  
   • Устанавливает новое значение для поля объекта.  
   • Принимает:  
     – Режим для обычного поля: объект, имя поля (строка), новое значение;  
     – Режим для массива: объект, имя поля (строка), индекс, новое значение.  
   • Возвращает nil (в случае ошибки выбрасывается Lua error с описанием).  
   • Пример:  
     ```setField(enemy, "cx", getField(Strategist, "cx"))```

7) thread  
   • Создаёт новый поток для выполнения указанной Lua-функции.  
   • Функция будет вызвана в отдельном потоке.  
   • Принимает один аргумент – Lua-функцию.  
   • Возвращает nil.  
   • Пример:
   ``` 
     obj = findClass("something")  
     thread(function() invoke(obj, "somethingMethod") end)
   ```
8) mapChange
 • Изменяет параметры ячейки карты по заданным координатам и обновляет мини-карту.  
   • Принимает:
      - x (целое число) – индекс ячейки по горизонтали.
      - y (целое число) – индекс ячейки по вертикали.
      - tileInd (короткое число) – индекс плитки, которая станет основной текстурой ячейки.
      - p4 и p5 (короткие числа) – значения вертикальных границ ячейки.
      - p6 и p7 (короткие числа) – значения горизонтальных границ ячейки.
      - decorInd (короткое число) – индекс декора для ячейки.
      - townInd (короткое число) – индекс города, ассоциированного с ячейкой (-1, если город отсутствует).
      - textInd (короткое число) – индекс текста, привязанного к ячейке.
      - block (булево) – флаг блокировки ячейки (true – ячейка заблокирована).
   • Возвращает: ничего.  
   • Пример:  
     ```mapChange(0, 0, 1, 1, 0, 1, 0, 2, -1, 5, true)```
9) setDecor
 • Изменяет параметры ячейки карты по заданным координатам и обновляет мини-карту.  
   • Принимает:  
     - x (целое число) – индекс ячейки по горизонтали.
     - y (целое число) – индекс ячейки по вертикали.
     - decorInd (целое число) - id текстуры
     - Height (короткое число) - высота декора
   • Возвращает: ничего.  
   • Пример:  
     ```setDecor(0,0,0,0)```

__________________________________________________________
Поддержка скриптов и апк для game guardian прекращена
